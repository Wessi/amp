<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.1//EN" "http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">
<struts-config>
  <form-beans>
    <!-- Admin module -->
    <form-bean name="siteForm" type="org.digijava.module.admin.form.SiteForm" />
    <form-bean name="searchSiteForm" type="org.digijava.module.admin.form.SearchSiteForm" />
    <form-bean name="deleteSiteForm" type="org.digijava.module.admin.form.DeleteSiteForm" />
    <form-bean name="siteInstancesForm" type="org.digijava.module.admin.form.SiteInstancesForm" />
    <form-bean name="groupsForm" type="org.digijava.module.admin.form.GroupsForm" />
    <form-bean name="groupPermissionsForm" type="org.digijava.module.admin.form.GroupPermissionsForm" />
    <form-bean name="groupMembersForm" type="org.digijava.module.admin.form.GroupMembersForm" />
    <form-bean name="searchUserForm" type="org.digijava.module.admin.form.SearchUserForm" />
    <form-bean name="administrateUserForm" type="org.digijava.module.admin.form.AdministrateUserForm" />
    <form-bean name="referencedInstForm" type="org.digijava.module.admin.form.ReferencedInstForm" />
    <form-bean name="allSitesForm" type="org.digijava.module.admin.form.AllSitesForm" />
    <form-bean name="localesForm" type="org.digijava.module.admin.form.LocalesForm" />
    <form-bean name="pickupForm" type="org.digijava.module.admin.form.PickupForm" />
    <form-bean name="cacheForm" type="org.digijava.module.admin.form.CacheForm" />
    <form-bean name="configurationForm" type="org.digijava.module.admin.form.ConfigurationForm" />
    <form-bean name="emailTemplatesForm" type="org.digijava.module.admin.form.EmailTemplatesForm" />
    <form-bean name="commonInstancesForm" type="org.digijava.module.admin.form.CommonInstancesForm" />
    <form-bean name="unclosedSessionsForm" type="org.digijava.module.admin.form.UnclosedSessionsForm" />
    <!-- End of Admin module -->
  </form-beans>
  <action-mappings>
    <action type="org.apache.struts.actions.ForwardAction" path="/admin/blankForward" />
    <action forward="/showLayout.do?layout=admin" path="/admin/showLayout" />
    <action forward="/showLayout.do?layout=admin" path="/admin/index" />
    <action name="siteForm" type="org.digijava.module.admin.action.ShowCreateSite" validate="false" path="/admin/showCreateSite">
      <forward name="forward" path="/showLayout.do?layout=admin_createSite" />
    </action>
    <action name="siteForm" type="org.digijava.module.admin.action.CreateSite" validate="true" input="/showLayout.do?layout=admin_createSite" path="/admin/createSite">
      <!--      <forward name="forward" path="/showLayout.do?layout=admin" /> -->
      <forward name="forward" path="/admin/showAllSites.do" redirect="true" />
      <forward name="error" path="/showLayout.do?layout=admin_createSite" />
    </action>
    <action name="siteForm" type="org.digijava.module.admin.action.ShowEditSite" validate="false" path="/admin/showEditSite">
      <forward name="forward" path="/showLayout.do?layout=admin_editSite" />
    </action>
    <action name="siteForm" type="org.digijava.module.admin.action.AddDomain" validate="false" path="/admin/addDomain">
      <forward name="forwardEdit" path="/showLayout.do?layout=admin_editSite" />
      <forward name="forwardCreate" path="/showLayout.do?layout=admin_createSite" />
    </action>
    <action name="siteForm" type="org.digijava.module.admin.action.DeleteDomain" validate="false" path="/admin/deleteDomain">
      <forward name="forwardEdit" path="/showLayout.do?layout=admin_editSite" />
      <forward name="forwardCreate" path="/showLayout.do?layout=admin_createSite" />
    </action>
    <action name="siteForm" type="org.digijava.module.admin.action.EditSite" validate="true" input="/showLayout.do?layout=admin_editSite" path="/admin/editSite">
      <forward name="forward" path="/showLayout.do?layout=admin_editSite" />
      <forward name="error" path="/showLayout.do?layout=admin_editSite" />
    </action>
    <action name="siteForm" type="org.digijava.module.admin.action.AddChildSite" validate="false" path="/admin/addChildSite">
      <forward name="forward" path="/admin/showEditSite.do" />
    </action>
    <action name="siteForm" type="org.digijava.module.admin.action.RemoveChildSite" validate="false" path="/admin/removeChildSite">
      <forward name="forward" path="/admin/showEditSite.do" />
    </action>
    <action name="siteForm" type="org.digijava.module.admin.action.ClearParentSite" validate="false" path="/admin/clearParentSite">
      <forward name="forward" path="/admin/showEditSite.do" />
    </action>
    <action name="searchSiteForm" forward="/showLayout.do?layout=admin_searchSite" validate="false" path="/admin/showSearchSite" />
    <action name="searchSiteForm" type="org.digijava.module.admin.action.SearchSite" validate="true" input="/showLayout.do?layout=admin_searchSite" path="/admin/searchSite">
      <forward name="forward" path="/showLayout.do?layout=admin_searchSite" />
    </action>
    <action name="searchSiteForm" type="org.digijava.module.admin.action.AdminLink" validate="false" input="/showLayout.do?layout=admin_searchSite" path="/admin/adminLink">
      <forward name="forward" path="/showLayout.do" redirect="true" />
    </action>
    <action name="deleteSiteForm" type="org.digijava.module.admin.action.DeleteSite" validate="false" input="/showLayout.do?layout=admin_searchSite" path="/admin/deleteSite">
      <forward name="forward" path="/admin/showSearchSite.do" />
    </action>
    <action name="allSitesForm" type="org.digijava.module.admin.action.ShowAllSites" validate="false" input="/showLayout.do?layout=admin_allSites" path="/admin/showAllSites">
      <forward name="forward" path="/showLayout.do?layout=admin_allSites" />
    </action>
    <action name="localesForm" type="org.digijava.module.admin.action.ShowLocales" validate="false" path="/admin/showLocales">
      <forward name="forward" path="/showLayout.do?layout=admin_locales" />
    </action>
    <action name="localesForm" type="org.digijava.module.admin.action.EditLocales" validate="false" input="/showLayout.do?layout=admin_locales" path="/admin/editLocales">
      <forward name="forward" path="/showLayout.do?layout=admin_locales" />
    </action>
    <action name="siteInstancesForm" type="org.digijava.module.admin.action.ShowSiteInstances" validate="false" path="/admin/showSiteInstances">
      <forward name="forward" path="/showLayout.do?layout=admin_siteInstances" />
    </action>
    <action name="siteInstancesForm" type="org.digijava.module.admin.action.AddInstance" validate="false" path="/admin/addInstance">
      <forward name="forward" path="/showLayout.do?layout=admin_siteInstances" />
    </action>
    <action name="siteInstancesForm" type="org.digijava.module.admin.action.DeleteInstance" validate="false" path="/admin/deleteInstance">
      <forward name="forward" path="/showLayout.do?layout=admin_siteInstances" />
    </action>
    <action name="siteInstancesForm" type="org.digijava.module.admin.action.SaveInstances" validate="true" input="/showLayout.do?layout=admin_siteInstances" path="/admin/saveInstances">
      <forward name="forward" path="/admin/showSiteInstances.do" />
      <forward name="error" path="/showLayout.do?layout=admin_siteInstances" />
    </action>
    <action name="referencedInstForm" type="org.digijava.module.admin.action.ShowMasterInstances" validate="false" path="/admin/showMasterInstances">
      <forward name="forward" path="/showLayout.do?layout=admin_instPopupLayout" />
    </action>
    <action name="siteInstancesForm" type="org.digijava.module.admin.action.SetMasterInstance" validate="false" path="/admin/setMasterInstance">
      <forward name="forward" path="/showLayout.do?layout=admin_siteInstances" />
    </action>
    <action name="siteInstancesForm" type="org.digijava.module.admin.action.ChangeInstanceModule" validate="false" path="/admin/changeInstanceModule">
      <forward name="forward" path="/showLayout.do?layout=admin_siteInstances" />
    </action>
    <action name="siteInstancesForm" type="org.digijava.module.admin.action.ClearMasterInstance" validate="false" path="/admin/clearMasterInstance">
      <forward name="forward" path="/showLayout.do?layout=admin_siteInstances" />
    </action>
    <action name="searchUserForm" forward="/showLayout.do?layout=admin_searchUser" validate="false" path="/admin/showSearchUser" />
    <action name="searchUserForm" type="org.digijava.module.admin.action.SearchUser" validate="true" input="/showLayout.do?layout=admin_searchUser" path="/admin/searchUser">
      <forward name="searchUser" path="/showLayout.do?layout=admin_searchUser" />
      <forward name="searchUsers" path="/showLayout.do?layout=admin_usersPopupLayout" />
    </action>
    <action name="administrateUserForm" type="org.digijava.module.admin.action.ShowAdministrateUser" validate="true" input="/showLayout.do?layout=admin_searchUser" path="/admin/showAdministrateUser">
      <forward name="forward" path="/showLayout.do?layout=admin_administrateUser" />
    </action>
    <action name="administrateUserForm" type="org.digijava.module.admin.action.AdministrateUser" validate="true" input="/showLayout.do?layout=admin_administrateUser" path="/admin/administrateUser">
      <forward name="forward" path="/admin/showAdministrateUser.do" />
    </action>
    <action name="administrateUserForm" type="org.digijava.module.admin.action.BecomeUser" validate="false" input="/showLayout.do?layout=admin_administrateUser" path="/admin/becomeUser">
      <forward name="forward" path="/showLayout.do" redirect="true" />
    </action>
    <action name="groupsForm" type="org.digijava.module.admin.action.ShowGroups" validate="false" path="/admin/showGroups">
      <forward name="forward" path="/showLayout.do?layout=admin_groups" />
    </action>
    <action name="groupsForm" type="org.digijava.module.admin.action.DeleteGroup" validate="false" path="/admin/deleteGroup">
      <forward name="forward" path="/admin/showGroups.do" />
      <forward name="error" path="/showLayout.do?layout=admin_groups" />
    </action>
    <action name="groupsForm" type="org.digijava.module.admin.action.AddGroup" validate="true" input="/showLayout.do?layout=admin_groups" path="/admin/addGroup">
      <forward name="forward" path="/admin/showGroups.do" />
      <forward name="error" path="/showLayout.do?layout=admin_groups" />
    </action>
    <action name="groupPermissionsForm" type="org.digijava.module.admin.action.ShowPermissions" validate="false" path="/admin/showPermissions">
      <forward name="forward" path="/showLayout.do?layout=admin_groupPermissions" />
      <forward name="error" path="/showLayout.do?layout=admin" />
    </action>
    <action name="groupPermissionsForm" type="org.digijava.module.admin.action.DeletePermission" validate="false" path="/admin/deletePermission">
      <forward name="forward" path="/showLayout.do?layout=admin_groupPermissions" />
    </action>
    <action name="groupPermissionsForm" type="org.digijava.module.admin.action.AddPermission" validate="false" path="/admin/addPermission">
      <forward name="forward" path="/showLayout.do?layout=admin_groupPermissions" />
    </action>
    <action name="groupPermissionsForm" type="org.digijava.module.admin.action.SavePermissions" validate="false" path="/admin/savePermissions">
      <forward name="forward" path="/showLayout.do?layout=admin_groupPermissions" />
    </action>
    <action name="pickupForm" type="org.digijava.module.admin.action.ShowPickupSite" validate="false" path="/admin/showPickupSite">
      <forward name="forward" path="/showLayout.do?layout=admin_pickupSite" />
    </action>
    <action name="groupMembersForm" type="org.digijava.module.admin.action.ShowGroupMembers" validate="false" path="/admin/showGroupMembers">
      <forward name="forward" path="/showLayout.do?layout=admin_groupMembers" />
      <forward name="error" path="/showLayout.do?layout=admin" />
    </action>
    <action name="groupMembersForm" type="org.digijava.module.admin.action.RemoveMemberUser" validate="false" path="/admin/removeMemberUser">
      <forward name="forward" path="/admin/showGroupMembers.do" />
    </action>
    <action name="groupMembersForm" type="org.digijava.module.admin.action.AddUsersToGroup" validate="false" path="/admin/addUsersToGroup">
      <forward name="forward" path="/admin/showGroupMembers.do" />
    </action>
    <action name="searchUserForm" forward="/showLayout.do?layout=admin_usersPopupLayout" validate="false" path="/admin/showSelectUsers" />
    <action name="pickupForm" type="org.digijava.module.admin.action.ShowPickupGroup" validate="false" path="/admin/showPickupGroup">
      <forward name="forward" path="/showLayout.do?layout=admin_pickupGroupPopupLayout" />
    </action>
    <action name="cacheForm" type="org.digijava.module.admin.action.ShowCaches" validate="false" scope="session" path="/admin/showCaches">
      <forward name="forward" path="/showLayout.do?layout=admin_caches" />
    </action>
    <action name="configurationForm" type="org.digijava.module.admin.action.ShowConfiguration" scope="request" path="/admin/showConfiguration">
      <forward name="configPage" path="/showLayout.do?layout=admin_configurationPage" />
    </action>
    <action name="emailTemplatesForm" type="org.digijava.module.admin.action.ShowEmailTemplates" scope="request" path="/admin/showEmailTemplates">
      <forward name="forward" path="/showLayout.do?layout=admin_emailTemplates" />
    </action>
    <action name="commonInstancesForm" type="org.digijava.module.admin.action.ShowCommonInstances" validate="false" path="/admin/showCommonInstances">
      <forward name="forward" path="/showLayout.do?layout=admin_commonInstances" />
    </action>
    <action name="commonInstancesForm" type="org.digijava.module.admin.action.AddCommonInstance" validate="false" path="/admin/addCommonInstance">
      <forward name="forward" path="/showLayout.do?layout=admin_commonInstances" />
    </action>
    <action name="commonInstancesForm" type="org.digijava.module.admin.action.DeleteCommonInstance" validate="false" path="/admin/deleteCommonInstance">
      <forward name="forward" path="/showLayout.do?layout=admin_commonInstances" />
      <forward name="error" path="/showLayout.do?layout=admin_commonInstances" />
    </action>
    <action name="commonInstancesForm" type="org.digijava.module.admin.action.SaveCommonInstances" validate="true" input="/showLayout.do?layout=admin_commonInstances" path="/admin/saveCommonInstances">
      <forward name="forward" path="/showLayout.do?layout=admin_commonInstances"/>
    </action>
    <action name="unclosedSessionsForm" type="org.digijava.module.admin.action.ShowUnclosedSessions" validate="false"  path="/admin/showUnclosedSessions">
      <forward name="forward" path="/showLayout.do?layout=admin_unclosedSessions"/>
    </action>
  </action-mappings>
</struts-config>
