<?xml version="1.0" encoding="UTF-8"?>
<tns:patch closeOnSuccess="true" retryOnFail="true" xmlns:tns="http://docs.ampdev.net/schemas/xmlpatcher" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://docs.ampdev.net/schemas/xmlpatcher ../doc/xmlpatcher.xsd ">
  <jira>AMP-17441</jira>
  <keyword>cleanup</keyword>
  <author>Dolghier Constantin</author> 
  <description>remove some unused Hibernate Entities</description>
  <apply>
    <script>
      <lang delimiter=";" type="postgres">
      
 		DROP VIEW IF EXISTS v_act_pp_regions;
 		UPDATE amp_global_settings SET settingsvalue = 'true' WHERE settingsname='Recreate the views on the next server restart';
 		
 		ALTER TABLE amp_location DROP COLUMN IF EXISTS country;
		ALTER TABLE amp_location DROP COLUMN IF EXISTS region;
		ALTER TABLE amp_location DROP COLUMN IF EXISTS zone;
		ALTER TABLE amp_location DROP COLUMN IF EXISTS woreda;

 		ALTER TABLE amp_location DROP COLUMN IF EXISTS country_id;
		ALTER TABLE amp_location DROP COLUMN IF EXISTS region_id;
		ALTER TABLE amp_location DROP COLUMN IF EXISTS zone_id;
		ALTER TABLE amp_location DROP COLUMN IF EXISTS woreda_id;

		DROP TABLE IF EXISTS amp_woreda;
		DROP TABLE IF EXISTS amp_zone;
		DROP TABLE IF EXISTS amp_region;

		DROP SEQUENCE IF EXISTS amp_woreda_seq;
		DROP SEQUENCE IF EXISTS amp_zone_seq;
		DROP SEQUENCE IF EXISTS amp_region_seq;
      	
      </lang>
    </script>
  </apply>
</tns:patch>