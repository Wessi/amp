<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 2.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd">
<hibernate-mapping>
	<class name="org.digijava.module.aim.dbentity.IPAContract" table="IPA_CONTRACT">
	
	<cache usage="read-write" />
	<id name="id" column="id" type="java.lang.Long" unsaved-value="null">
			<generator class="native">
				<param name="sequence">IPA_CONTRACT_seq</param>
			</generator>
	</id>
		<property name="contractName" column="contract_name" type="java.lang.String"/>
		<property name="description" column="description" type="java.lang.String"/>
		<property name="contractingOrganizationText" column="contracting_organization_text" type="java.lang.String"/>
		
		<many-to-one name="activityCategory" 
			column="activity_category_id" 
			class="org.digijava.module.aim.dbentity.AmpCategoryValue" 
			cascade="none"/>
                        
                <many-to-one name="status" 
			column="status" 
			class="org.digijava.module.aim.dbentity.AmpCategoryValue" 
			cascade="none"/>
                        
                 <many-to-one name="type" 
			column="type" 
			class="org.digijava.module.aim.dbentity.AmpCategoryValue" 
			cascade="none"/>
			
				<many-to-one name="contractType" 
			column="contractType" 
			class="org.digijava.module.aim.dbentity.AmpCategoryValue" 
			cascade="none"/>
                 
                <many-to-one name="organization" 
			column="contracting_org" 
			class="org.digijava.module.aim.dbentity.AmpOrganisation" 
			cascade="none"/>
                        
                <many-to-one name="activity" 
			column="activity_id" 
			class="org.digijava.module.aim.dbentity.AmpActivity" 
			cascade="none"/>

		<property name="startOfTendering" column="start_of_tendering" type="java.util.Date" />
		
		<property name="signatureOfContract" column="signature_of_contract" type="java.util.Date" />
		<property name="contractValidity" column="contract_validity" type="java.util.Date" />
		<property name="contractCompletion" column="contract_completion" type="java.util.Date" />		
				
		<property name="totalECContribIBAmount" column="total_ec_contrib_ib_amount" type="java.lang.Double" />		
		<many-to-one name="totalECContribIBCurrency" column="total_ec_contrib_ib_currency" class="org.digijava.module.aim.dbentity.AmpCurrency" cascade="none"/>
		
		<property name="totalAmount" column="total_amount" type="java.lang.Double" />		
		<many-to-one name="totalAmountCurrency" column="total_amount_currency" class="org.digijava.module.aim.dbentity.AmpCurrency" cascade="none"/>		
		<many-to-one name="dibusrsementsGlobalCurrency" column="disbursements_global_currency" class="org.digijava.module.aim.dbentity.AmpCurrency" cascade="none"/>
		
		<property name="totalPrivateContribAmountDate" column="total_private_contrib_amount_date" type="java.util.Date" />
		<property name="totalNationalContribRegionalAmountDate" column="total_national_contrib_regional_amount_date" type="java.util.Date" />
		<property name="totalNationalContribIFIAmountDate" column="total_national_contrib_IFI_amount_date" type="java.util.Date" />
		<property name="totalNationalContribCentralAmountDate" column="total_national_contrib_central_amount_date" type="java.util.Date" />
		<property name="totalECContribINVAmountDate" column="total_EC_contrib_INV_amount_date" type="java.util.Date" />
		<property name="totalECContribIBAmountDate" column="total_EC_contrib_IB_amount_date" type="java.util.Date" />
		
		<property name="totalECContribINVAmount" column="total_ec_contrib_inv_amount" type="java.lang.Double" />		
		<many-to-one name="totalECContribINVCurrency" column="total_ec_contrib_inv_currency" class="org.digijava.module.aim.dbentity.AmpCurrency" cascade="none"/>		

		<property name="totalNationalContribCentralAmount" column="total_national_contrib_central_amount" type="java.lang.Double" />		
		<many-to-one name="totalNationalContribCentralCurrency" column="total_national_contrib_central_currency" class="org.digijava.module.aim.dbentity.AmpCurrency" cascade="none"/>		

		<property name="totalNationalContribRegionalAmount" column="total_national_contrib_regional_amount" type="java.lang.Double" />		
		<many-to-one name="totalNationalContribRegionalCurrency" column="total_national_contrib_regional_currency" class="org.digijava.module.aim.dbentity.AmpCurrency" cascade="none"/>		


		<property name="totalNationalContribIFIAmount" column="total_national_contrib_ifi_amount" type="java.lang.Double" />		
		<many-to-one name="totalNationalContribIFICurrency" column="total_national_contrib_ifi_currency" class="org.digijava.module.aim.dbentity.AmpCurrency" cascade="none"/>		

		<property name="totalPrivateContribAmount" column="total_private_contrib_amount" type="java.lang.Double" />		
		<many-to-one name="totalPrivateContribCurrency" column="total_private_contrib_currency" class="org.digijava.module.aim.dbentity.AmpCurrency" cascade="none"/>		

		
		<set name="organizations" cascade="none" table="amp_ipa_contracting_organizations">
			<key column="ipa_contract_id" />
			<many-to-many class="org.digijava.module.aim.dbentity.AmpOrganisation" column="organization" />
		</set>
			
		<set name="disbursements" cascade="all-delete-orphan">
			<key column="ipa_contract_id" />
			<one-to-many class="org.digijava.module.aim.dbentity.IPAContractDisbursement"/>
		</set>
	
	</class>
</hibernate-mapping>