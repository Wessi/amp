<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
  <class discriminator-value="w" name="org.digijava.module.widget.dbentity.AmpWidget" table="AMP_WIDGET">
    <cache usage="read-write"/>
    <id column="ID" name="id" type="java.lang.Long" unsaved-value="null">
      <generator class="native">
        <param name="sequence">AMP_WIDGET_seq</param>
      </generator>
    </id>
    <discriminator column="widget_type"/>
    <property name="widgetType" column="widget_type" type="java.lang.String"  insert="false" update="false"/> 
    <property column="widget_name" name="name" type="java.lang.String"/>
    <property column="widget_code" name="code" type="java.lang.String"/>
    <property column="name_as_title" name="nameAsTitle" type="java.lang.Boolean"/>
    <subclass discriminator-value="indsecchart" name="org.digijava.module.widget.dbentity.AmpWidgetIndicatorChart">
      <many-to-one cascade="none" class="org.digijava.module.aim.dbentity.IndicatorSector" column="ind_connect_id" name="indicator"/>
    </subclass>
    <subclass discriminator-value="orgprofile" name="org.digijava.module.widget.dbentity.AmpWidgetOrgProfile">
      <property column="chart_type" name="type" type="java.lang.Long"/>
    </subclass>
    <subclass discriminator-value="tbl" name="org.digijava.module.widget.dbentity.AmpDaTable">
      <property column="css_class" name="cssClass" type="java.lang.String"/>
      <property column="html_style" name="htmlStyle" type="java.lang.String"/>
      <property column="table_width" name="width" type="java.lang.String"/>
      <set cascade="all-delete-orphan" inverse="true" lazy="true" name="columns" order-by="order_no asc">
        <key column="table_widget_id"/>
        <one-to-many class="org.digijava.module.widget.dbentity.AmpDaColumn"/>
      </set>
    </subclass>
    <subclass discriminator-value="secTbl" name="org.digijava.module.widget.dbentity.AmpSectorTableWidget">
      <set cascade="all-delete-orphan" inverse="true" lazy="true" name="sectorsColumns" order-by="order_number asc">
        <key column="sector_widget_table_id"/>
        <one-to-many class="org.digijava.module.widget.dbentity.AmpSectorOrder"/>
      </set>
      <set cascade="all-delete-orphan" inverse="true" lazy="true" name="years" order-by="column_order asc">
        <key column="sector_widget_table_id"/>
        <one-to-many class="org.digijava.module.widget.dbentity.AmpSectorTableYear"/>
      </set>
      <property column="donor_year" name="donorYear" type="java.lang.Long"/>
    </subclass>
    <subclass discriminator-value="piTbl" name="org.digijava.module.widget.dbentity.AmpParisIndicatorTableWidget">
      <list cascade="all-delete-orphan" inverse="true" lazy="true" name="parisIndicators">
        <key column="pi_table_widget_id"/>
		<list-index column="index_column"/>
        <one-to-many class="org.digijava.module.widget.dbentity.AmpParisIndicatorBaseTargetValues"/>
      </list>
      <property column="donor_group_year" name="donorGroupYear" type="java.lang.Long"/>
    </subclass>
     <subclass discriminator-value="topTenDonors" name="org.digijava.module.widget.dbentity.AmpWidgetTopTenDonorGroups"/>
  </class>
</hibernate-mapping>
