<script type="text/javascript">
	function openPreviewActivity(id) {
		window.open('/aim/viewActivityPreview.do~public=true~pageId=2~activityId=' + id, '_blank');
	}
</script>

<div class="panel panel-default">
	<div class="panel-body custom-panel">
	<span class="table-category">
		<b><%= (context.x.fmt || context.x.raw) %> <% if(context.y) { %> | <%= (context.y.fmt || context.y.raw) %><% }
			%></b></span> <span class="table-category-detail">- <%= model.get('adjtype') %> -
		<span data-i18n="<%= app.generalSettings.numberDividerDescription %>"></span>
		<%= model.get('currency') %>
	</span>
	</div>
</div>
<div class="panel-default">
	<div class="chart-tops-info-container">
		<div class="chart-tops-info-content">
			<% if(error) { %>
				<div class="alert alert-danger" role="alert">
					<strong><span data-i18n="amp.dashboard:error">Error</span></strong>
					<span data-i18n="amp.dashboard:error-detail">The Aid Management Platform has temporarily encountered an issue. We apologize for any inconvenience.</span>
				</div>
			<% } else if(values === undefined) { %>
				<img alt="" src="/TEMPLATE/ampTemplate/dashboard/build/img/loading-icon.gif">
				<span data-i18n="amp.dashboard:download-rendering">Rendering...</span>
			<% } else { %>
				<% var rowClass = ''; %>
				<table class="table table-striped">
					<thead>
					<tr>
						<th><span data-i18n="amp.dashboard:chart-tops-table-projecttitle">Project Title</span></th>
						<th><span data-i18n="amp.dashboard:chart-tops-table-amount">Amount</span></th>
					</tr>
					</thead>
					<tbody>
				<% _(values).each(function(row, i) { %>
					<tr>
						<td scope="row">
							<span class='pointer' onclick='openPreviewActivity(<%=row.id%>)'><%=row.name%></span>
						</td>
						<td class="amount-column"><%=row.formattedAmount%></td>
					</tr>
				<% }) %>
					</tbody>
				</table>
			<% } %>
			<div class="btn btn-success load-more" style="display: none"><span
					data-i18n="amp.dashboard:chart-tops-table-loadmore">load
				more</span>...</div>
		</div>
	</div>
</div>
