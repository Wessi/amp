<div class="table-container" style="margin:15px;">
	<div class="row">
		<div>
			<button type="button" class="btn btn-primary navbar-btn new-layer-btn" data-i18n="amp.gis-layers-manager:button-NewIndicatorLayer">New Indicator Layer</button>
		</div>

		<table class="table">
			<thead>
				<tr>
					<%
					for(var i = 0; i < columns.length; i++) {
						var show = false;
						var order = '';
						if(page.get('orderBy') == columns[i]) {
							show = true;
							order = page.get('sort');
						}
					%>
						<th><span style="cursor: pointer" data-i18n="amp.gis-layers-manager:<%=columns[i]%>" class="sort <%=order%>" data-prop="<%=columns[i]%>"><%=columns[i]%></span> <span class="glyphicon <%= order == 'asc'? 'glyphicon-chevron-up': order == 'desc' ? 'glyphicon-chevron-down': ''%>"></span></th>
					<%
					}
					%>
					<th data-i18n="amp.gis-layers-manager:header-Actions">Actions</th>
				</tr>
			</thead>
			<tbody>
				<% layers.forEach(function(layer) { %>
				<tr>
					<td><%= layer.get('name')%></td>
					<td><%= layer.get('createdBy')%></td>
					<td><%= layer.get('createdOn')%></td>
					<td><%= accessTypes.findWhere({id: layer.get('accessTypeId')}).get('label')%></td>
					<td><span class="glyphicon glyphicon-edit" style="cursor: pointer" aria-hidden="true" data-id="<%= layer.id%>"></span>
						<span class="glyphicon glyphicon-trash" style="cursor: pointer" aria-hidden="true" data-id="<%= layer.id%>"></span>
						<%if(user.get('email') == layer.get('createdBy')) {%>
							<%if(!user.get('administratorMode') && layer.get('accessTypeId') == accessTypes.findWhere({value: 'public'}).id) {%>
							<span class="glyphicon glyphicon-lock" style="cursor: pointer" aria-hidden="true" data-id="<%= layer.id%>"></span>
							<%}%>
							<%if(!user.get('administratorMode') && layer.get('accessTypeId') == accessTypes.findWhere({value: 'private'}).id) {%>
							<span class="glyphicon glyphicon-globe" style="cursor: pointer" aria-hidden="true" data-id="<%= layer.id%>"></span>
							<span class="glyphicon glyphicon-share" style="cursor: pointer" aria-hidden="true" data-id="<%= layer.id%>"></span>
							<%}%>
						<%}%>
					</td>
				</tr>
				<% }); %>
			</tbody>
		</table>
		<nav>
			<ul class="pagination">
				<li class="page-item <%= page.get('currentPageNumber') == 1 ? 'disabled': ''%>">
					<a class="page-link previ" style="cursor: pointer" aria-label="Previous" data-page="-">
						<span aria-hidden="true" data-page="-">&laquo;</span>
						<span class="sr-only">Previous</span>
					</a>
				</li>
				<% for(var i = 1; i <= page.get('totalPageCount'); i++) { %>
					<li class="page-item <%= page.get('currentPageNumber') == i ? 'active': ''%>"><a class="page-link" style="cursor: pointer" data-page="<%= i%>"><%= i%></a></li>
				<% } %>
				<li class="page-item <%= page.get('currentPageNumber') == page.get('totalPageCount') ? 'disabled': ''%>">
					<a class="page-link" style="cursor: pointer" aria-label="Next" data-page="+">
 						<span aria-hidden="true" data-page="+">&raquo;</span>
 						<span class="sr-only">Next</span>
 					</a>
				</li>
			</ul>
		</nav>
	</div>
</div>
