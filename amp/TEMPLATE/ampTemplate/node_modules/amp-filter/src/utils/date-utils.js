var _ = require('underscore');

var extractDates = function(settings, filtersOut, minName, maxName) {
    filtersOut.otherFilters = filtersOut.otherFilters || {};
    filtersOut.otherFilters.date = filtersOut.otherFilters.date || {
        start: '',
        end: ''
      };

    var defaultMinDate = _.find(settings, function(item) {
      return item.get('id') === minName;
    });
    if (defaultMinDate !== undefined && defaultMinDate.get('name') !== '') {
      filtersOut.otherFilters.date.start = defaultMinDate.get('name');
    }
    var defaultMaxDate = _.find(settings, function(item) {
      return item.get('id') === maxName;
    });
    if (defaultMaxDate !== undefined && defaultMaxDate.get('name') !== '') {
      filtersOut.otherFilters.date.end = defaultMaxDate.get('name');
    }
  }

module.exports = {
		extractDates: extractDates
}
