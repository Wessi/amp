
<style>
  #amp-header .navbar-header>button.navbar-toggle {
    /* fix contracted menu icon to not block map*/
    padding: 2px;
    margin: 4px;
  }

  #amp-header .container-fluid.ampUserLoggedIn ul.ampPublic {
    display: none !important;
  }

  #amp-header .container-fluid.ampUserLoggedIn ul.ampUserLoggedIn {
    display: inherit !important;
  }

  #amp-header .container-fluid ul.ampPublic {
    display: inherit !important;
  }

  #amp-header .container-fluid ul.ampUserLoggedIn {
    display: none !important;
  }

  div#amp-header nav div.container-fluid, div#amp-header nav div.navbar-collapse a {
    font-size: 12px;
  }

  .nav>li>a, div#amp-header nav div.navbar-collapse a{
    padding: 4px 6px;
    /* bootstrap sets pad: 10px, 15px
     4px 6px allows 1024px viewport with 8 menus.
     */
  }

  /* Ensure that translated title is not too long for a 1024px viewport*/
  /* TODO: verify that this max-width still holds when menu is API driven */
  /*****/
  div#amp-header a.navbar-brand {
    overflow-y: hidden;
    max-height: 40px;
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  @media ( max-width : 1151px) {
    div#amp-header ul.navbar-right #header-workspace-li {
      overflow-y: hidden !important;
      max-width: 11em;
      max-height: 30px;
      overflow-wrap: break-word;
      min-width: 10em;
    }
    div#amp-header ul.navbar-right #header-name {
      overflow-y: hidden !important;
      max-width: 7em;
      max-height: 30px;
      overflow-wrap: break-word;
      min-width: 5em;
    }
  }
  /*If there is slightly more space, allow name and Workspace to be written out.*/
  @media ( min-width : 1152px) {
    div#amp-header ul.navbar-right #header-workspace-li {
      overflow-y: hidden !important;
      max-width: 20em;
      max-height: 30px;
      overflow-wrap: break-word;
      min-width: 10em;
    }
    div#amp-header ul.navbar-right #header-name {
      overflow-y: hidden !important;
      max-width: 20em;
      max-height: 30px;
      overflow-wrap: break-word;
      min-width: 5em;
    }
  }
  /******/
  .scrollable-menu {
    height: auto;
    max-height: 400px;
    overflow-x: hidden;
  }

  .dropdown-submenu {
    position: relative;
  }

  .dropdown-submenu>.dropdown-menu {
    top: 0;
    left: 100%;
    margin-top: -6px;
    margin-left: -1px;
    -webkit-border-radius: 0 6px 6px 6px;
    -moz-border-radius: 0 6px 6px 6px;
    border-radius: 0 6px 6px 6px;
  }

  .dropdown-submenu:hover>.dropdown-menu {
    display: block;
  }

  .dropdown-submenu>a:after {
    display: block;
    content: " ";
    float: right;
    width: 0;
    height: 0;
    border-color: transparent;
    border-style: solid;
    border-width: 5px 0 5px 5px;
    border-left-color: #cccccc;
    margin-top: 5px;
    margin-right: -10px;
  }

  .dropdown-submenu:hover>a:after {
    border-left-color: #ffffff;
  }

  .dropdown-submenu.pull-left {
    float: none;
  }

  .dropdown-submenu.pull-left>.dropdown-menu {
    left: -100%;
    margin-left: 10px;
    -webkit-border-radius: 6px 0 6px 6px;
    -moz-border-radius: 6px 0 6px 6px;
    border-radius: 6px 0 6px 6px;
  }

  @media ( max-width : 991px) {
    #amp-header #header-name {
      display: none;
    }
  }
  .workspace-name {
    max-width: 140px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
</style>
<script type="text/javascript">
  function switchTranslation (url) {
    $('#backUrl').val(document.location.href);
    document.modeSwitchForm.action = url;
    document.modeSwitchForm.submit();
  }
</script>
<form name="modeSwitchForm" method="post" action="/translation/switchMode.do" style="display:none;">
  <input type="hidden" name="backUrl" id="backUrl" value="">
</form>
<nav class="navbar navbar-default" role="navigation">
  <div class="container-fluid">
    <div class="row">
      <!-- .ampUserLoggedIn hides public version-->

      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header col-sm-3">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/" data-i18n="[title]amp.common:platform">
          <img class="flag" src="/aim/default/displayFlag.do" height="20" width="30">&nbsp; &nbsp;
          <span data-i18n="amp.common:platform-short">AMP</span></a>
      </div>

      <div class="col-sm-9">
        <div class="collapse navbar-collapse row" id="bs-example-navbar-collapse-1">
          <div class="col-sm-9">
            <ul id="AmpMenus" class="nav navbar-nav menus">

              <!-- File -->

            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="col-sm-3">
            <ul class="nav navbar-nav ampUserLoggedIn">
              <li id="header-workspace-li"><a title="Workspace" class="workspace-name" id="header-workspace">&nbsp;</a></li>
              <li id="header-name">
                <a class="user-url">
                  <span id="header-first-name">&nbsp;</span>&nbsp;<span id="header-last-name">&nbsp;</span>
                </a>
              </li>
              <li id="header-logout"><a data-i18n="amp.common:title-logout" href="/aim/j_spring_logout" >Logout</a></li>
            </ul>
            <% if(showLogin){ %>
              <div class="login_here" id="show_login_pop">
                <div class="login_here_cont">
                  <a data-i18n="amp.common:title-login" href="javascript:void(0)">Login</a>
                </div>
              </div>
            <% } %>
          </div>
        </div>
      </div>

    </div>
    <!-- Collect the nav links, forms, and other content for toggling -->
  </div><!-- /.container-fluid -->
</nav>

