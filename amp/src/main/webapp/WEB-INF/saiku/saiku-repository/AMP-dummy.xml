<!-- DUMMY cube made for making Saiku happy @startup (else it vomits exceptions at startup). The real cube is under mondrian/util/AMP.xml -->
<?xml version="1.0"?>
<!DOCTYPE AMP [
<!ENTITY mondriandtd SYSTEM "mondrian.dtd">]>
<Schema name="AMP">
	<Cube name="Donor Funding">
		<Table name="mondrian_fact_table" />

		<Dimension name="Project Title" foreignKey="entity_id">
			<Hierarchy hasAll="true" allMemberName="All Activities" primaryKey="amp_activity_id" name="Project Title">
				<Table name="mondrian_activity_texts@@locale@@" />
				<Level name="Project Title" column="amp_activity_id" type="Integer" nameColumn="name" />
			</Hierarchy>
		</Dimension>

		
		<Measure name="Actual Commitments" aggregator="sum">
			<MeasureExpression>
				<SQL dialect="generic" aggregator="sum">
					CASE WHEN mondrian_fact_table.transaction_type=0 AND mondrian_fact_table.adjustment_type=@@actual@@
					THEN "mondrian_fact_table".transaction_exch_@@currency@@ ELSE 0 END
				</SQL>
			</MeasureExpression>
		</Measure>
	</Cube>
 </Schema>

