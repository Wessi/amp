<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.1//EN" "http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">

<struts-config>
	<form-beans>
		<form-bean name="gisTableWidgetCreationForm" type="org.digijava.module.widget.form.TableWidgetCreationForm" />
		<form-bean name="gisTableWidgetRenderForm" type="org.digijava.module.widget.form.TableWidgetTeaserForm" />
		<form-bean name="gisTableWidgetDataForm" type="org.digijava.module.widget.form.AdminTableWidgetDataForm" />
	  <form-bean name="gisWidgetPlacesForm" type="org.digijava.module.widget.form.WidgetPlacesForm"/>
	  <form-bean name="gisIndicatorChartForm" type="org.digijava.module.widget.form.AdminIndicatorChartsForm"/>
	  <form-bean name="gisWidgetTeaserForm" type="org.digijava.module.widget.form.WidgetTeaserForm"/>
	  <form-bean name="gisWidgetChartForm" type="org.digijava.module.widget.form.ShowWidgetChartForm"/>
	  <form-bean name="gisSectorByDonorTeaserForm" type="org.digijava.module.widget.form.SectorByDonorTeaserForm"/>
	  <form-bean name="gisIndicatorSectorRegionForm" type="org.digijava.module.widget.form.IndicatorSectorRegionForm" />
	</form-beans>
	
	<global-forwards>
		<forward name="listTableWidgets" path="/widget/adminTableWidgets.do" redirect="true"/>
	</global-forwards>	
	
	<action-mappings>
		<action name="gisTableWidgetCreationForm" path="/widget/adminTableWidgets" parameter="actType" scope="request" type="org.digijava.module.widget.action.AdminTableWidgets" validate="false">
			<forward name="forward" path="/showLayout.do?layout=gis_tableWidgetAdmin"/>
			<forward name="showAdd" path="/showLayout.do?layout=add_tableWidget"/>
			<forward name="showEdit" path="/showLayout.do?layout=edit_tableWidget"/>
			<forward name="showAddColumnPopup" path="/showLayout.do?layout=popup_addWidgetColumn"/>
			<forward name="returnToEdit" path="/widget/adminTableWidgets.do?actType=edit" redirect="true"/>
		</action>
	
		<action name="gisTableWidgetRenderForm" path="/widget/widgetTest" scope="request" type="org.digijava.module.widget.action.TestWidget" validate="false">
	      <forward name="forward" path="/showLayout.do?layout=widgetTestPage" />
    	</action>
		<action name="gisTableWidgetDataForm" path="/widget/tableWidgetData" scope="session" parameter="actType" type="org.digijava.module.widget.action.AdminTableWidgetData" validate="false">
			<forward name="forward" path="/showLayout.do?layout=edit_tableWidgetData" />
			<forward name="returnToEdit" path="/widget/tableWidgetData.do?actType=showEdit" redirect="true"/>
    	</action>
    	<action name="gisTableWidgetRenderForm" path="/widget/previewTable" scope="request" type="org.digijava.module.widget.action.PreviewTableWidget" validate="false">
	      <forward name="forward" path="/showLayout.do?layout=edit_tableWidgetData" />
    	</action>
        
        <action name="gisIndicatorSectorRegionForm" path="/widget/indSectRegManager"  type="org.digijava.module.widget.action.IndicatorSectorManager" validate="false" parameter="actType">
    	  <forward name="forward" path="/showLayout.do?layout=gis_indicatorSectorManager" />
          <forward name="create" path="/showLayout.do?layout=gis_createIndicatorSector" />
          <forward name="addValue" path="/showLayout.do?layout=gis_addEditValue" />
    	</action>

		  <action name="gisIndicatorChartForm" parameter="actType"
		   path="/widget/indicatorchartwidgets" scope="session"
		   type="org.digijava.module.widget.action.AdminIndicatorChartWidgets" validate="false">
		   <forward name="forward" path="/showLayout.do?layout=gis_indicchartwidgets"/>
		   <forward name="showEdit" path="/showLayout.do?layout=gis_editindicchartwidget"/>
		   <forward name="showList" path="/widget/indicatorchartwidgets.do" redirect="true"/>
		  </action>


		  <action name="gisWidgetPlacesForm" parameter="actType"
		   path="/widget/widgetplaces" scope="session"
		   type="org.digijava.module.widget.action.AdminWidgetPlaces" validate="false">
		   <forward name="forward" path="/showLayout.do?layout=gis_widgetPlaces"/>
		   <forward name="showAssignWidget" path="/showLayout.do?layout=gis_widgetPlaceAssign"/>
		   <forward name="showPlacesList" path="/widget/widgetplaces.do" redirect="true"/>
		  </action>

		  <action name="gisWidgetChartForm" parameter="actType"
		   path="/widget/widgetchart" scope="request"
		   type="org.digijava.module.widget.action.ShowWidgetChart" validate="false"/>

		  <action name="gisSectorByDonorTeaserForm" parameter="actType"
		   path="/widget/showSectorByDonorChart" scope="request"
		   type="org.digijava.module.widget.action.ShowSectorByDonorChart" validate="false"/>

		<action name="gisTableWidgetRenderForm" scope="request"  
			path="/widget/getTableWidget" 
			type="org.digijava.module.widget.action.RenderTableWidget"/>
		
		<!-- Teasers below this -->
		<action name="gisWidgetTeaserForm" path="/widget/widgetTeaser" type="org.digijava.module.widget.action.WidgetTeaser"/>
		<action name="gisSectorByDonorTeaserForm" path="/widget/sectorByDonorTeaser" type="org.digijava.module.widget.action.SectorsByDonorTeaser"/>
	</action-mappings>
</struts-config>
